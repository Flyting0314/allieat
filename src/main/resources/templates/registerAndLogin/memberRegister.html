<!DOCTYPE html>
<html lang="zh-Hant" xmlns:th="http://www.thymeleaf.org">

<head>

<th:block th:replace="fragments/header :: header"></th:block>
<link th:href="@{/css/memberRegister.css}" rel="stylesheet">
<style>

        #pointModal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .modal-content {
            background: white;
            padding: 20px;
            border-radius: 8px;
            max-width: 600px;
            width: 90%;
        }

        #privacyModal .modal-content {
            max-height: 90vh;
            overflow-y: auto;
        }
    </style>

</head>

<body>
    <!-- Navbar Start -->
    <th:block th:replace="fragments/bodySection :: bodySection"></th:block>
    <!-- Hero Section End -->


    <!-- Verification Form Start -->
    <div class="verification_wrapper">
        <div class="verification_container">
            <h1 class="verification_title">å—åŠ©è€…è¨»å†Š</h1>
            <p class="verification_subtitle">ä»¥ä¸‹æ¬„ä½çš†ç‚ºå¿…å¡«</p>

            <h2 class="verification_section_title">åŸºæœ¬è³‡æ–™</h2>
            <form th:action="@{/registerAndLogin/register/member}" th:object="${member}" method="post"
                enctype="multipart/form-data" onsubmit="return validateAgreement()">

                <div class="verification_form_group">
                    <label class="verification_form_label">è¨»å†Šå–®ä½</label>
                    <div class="verification_form_controls">

                        <select class="verification_select" th:field="*{organization.organizationId}"
                            id="organizationSelect" onchange="handleOrgChange(this)">
                            <option value="">è«‹é¸æ“‡åœ¨å†Šå–®ä½</option>
                            <option th:each="org : ${organizations}" th:value="${org.organizationId}"
                                th:text="${org.name}">
                            </option>
                            <option value="-1">å…¶ä»–</option>
                        </select>
                        <div class="text-danger" th:if="${#fields.hasErrors('organization.organizationId')}"
                            th:errors="*{organization.organizationId}"></div>


                    </div>
                </div>
                <div class="verification_form_group">
                    <label class="verification_form_label">å§“å</label>
                    <div class="verification_form_controls">
                        <input type="text" th:field="*{name}" class="verification_input">
                        <div class="text-danger" th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></div>
                    </div>
                </div>

                <div class="verification_form_group">
                    <label class="verification_form_label">èº«ä»½è­‰å­—è™Ÿ</label>
                    <div class="verification_form_controls">
                        <input type="text" th:field="*{idNum}" class="verification_input">
                        <div class="text-danger" th:if="${#fields.hasErrors('idNum')}" th:errors="*{idNum}"></div>
                    </div>
                </div>


                <div class="verification_form_group">
                    <label class="verification_form_label">æˆ¶ç±åœ°å€</label>
                    <div class="verification_form_controls">
                        <div class="verification_address_group">
                            <select id="permCitySelect" class="verification_select"></select>
                            <select id="permDistrictSelect" class="verification_select"></select>
                            <input type="text" id="permZipcodeInput" class="verification_input" readonly
                                placeholder="éƒµéå€è™Ÿ" />
                        </div>
                        <input type="text" th:field="*{permAddr}" id="permDetail" class="verification_input"
                            placeholder="è«‹è¼¸å…¥è©³ç´°åœ°å€" />
                        <div class="text-danger" th:if="${#fields.hasErrors('permAddr')}" th:errors="*{permAddr}"></div>
                    </div>
                </div>


                <div class="verification_form_group">
                    <label class="verification_form_label">é€šè¨Šåœ°å€</label>
                    <div class="verification_form_controls">
                        <div class="verification_address_group">
                            <select id="commCitySelect" class="verification_select"></select>
                            <select id="commDistrictSelect" class="verification_select"></select>
                            <input type="text" id="commZipcodeInput" class="verification_input" readonly
                                placeholder="éƒµéå€è™Ÿ" />
                        </div>

                        <input type="text" th:field="*{address}" id="commDetail" class="verification_input"
                            placeholder="è«‹è¼¸å…¥è©³ç´°åœ°å€" />
                        <div class="text-danger" th:if="${#fields.hasErrors('address')}" th:errors="*{address}"></div>

                        <!-- åŒä¸Šé¸é …ï¼šæ”¾åœ¨è©³ç´°åœ°å€ä¸‹æ–¹ï¼Œå°é½Š -->
                        <div style="margin-top: 14px;">
                            <label style="font-weight: normal; font-size: 14px;">
                                <input type="checkbox" id="sameAsPerm" style="margin-right: 4px;">
                                åŒä¸Š
                            </label>
                        </div>
                    </div>
                </div>


                <div class="verification_form_group">
                    <label class="verification_form_label">é›»å­ä¿¡ç®±</label>
                    <div class="verification_form_controls">
                        <input type="email" th:field="*{email}" class="verification_input">
                        <div class="text-danger" th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></div>
                    </div>
                </div>

                <div class="verification_form_group">
                    <label class="verification_form_label">è¯çµ¡é›»è©±</label>
                    <div class="verification_form_controls">
                        <input type="text" th:field="*{phone}" class="verification_input">
                        <div class="text-danger" th:if="${#fields.hasErrors('phone')}" th:errors="*{phone}"></div>
                    </div>
                </div>

                <div class="verification_form_group">
                    <label class="verification_form_label">å¸³è™Ÿ</label>
                    <div class="verification_form_controls">
                        <input type="text" th:field="*{account}" class="verification_input">
                        <div class="text-danger" th:if="${#fields.hasErrors('account')}" th:errors="*{account}"></div>
                        <div class="text-danger" th:if="${error != null and error.contains('å¸³è™Ÿ')}" th:text="${error}">
                        </div>
                    </div>
                </div>

                <div class="verification_form_group">
                    <label class="verification_form_label">å¯†ç¢¼</label>
                    <div class="verification_form_controls">
                        <input type="password" th:field="*{password}" class="verification_input">
                        <div class="text-danger" th:if="${#fields.hasErrors('password')}" th:errors="*{password}"></div>
                    </div>
                </div>

                <!-- ä¸Šå‚³æ–‡ä»¶æ¬„ä½ -->
                <div class="verification_form_group">
                    <label class="verification_form_label">ä¸Šå‚³è­‰æ˜æ–‡ä»¶</label>
                    <div class="verification_form_controls">
                        <input type="file" name="kycFile" class="form-control" />
                        <div class="kyc-preview-container">
                            <div th:if="${member.kycImage != null}">
                                <a th:href="@{'/member/' + ${member.kycImage}}" target="_blank">é»æ­¤é è¦½ä¸Šå‚³æª”æ¡ˆ</a>
                                <img th:if="${#strings.contains(member.kycImage, '.png') or #strings.contains(member.kycImage, '.jpg') or #strings.contains(member.kycImage, '.jpeg')}"
                                    th:src="@{'/member/' + ${member.kycImage}}"
                                    style="max-width: 200px; margin-top: 10px;">
                            </div>
                        </div>
                        <div id="kycError" class="text-danger"
                            th:if="${hasSubmitted} and ${error != null and error.contains('æª”æ¡ˆ')}" th:text="${error}">
                        </div>
                    </div>


                </div>

                <!-- æ„›å¿ƒé»æ•¸ä½¿ç”¨èªªæ˜ -->
                <div class="verification_form_group" style="flex-direction: column;">
                    <label class="verification_form_label"></label>
                    <div class="verification_form_controls">
                        <label>
                            <input type="checkbox" id="agreePoint" onclick="return false">
                            æ‚¨å·²äº†è§£ä¸¦åŒæ„æœ¬å¹³å°ä¾ã€Œ<a href='#' id="viewPointNotice">æ„›å¿ƒé»æ•¸ä½¿ç”¨èªªæ˜</a>ã€
                            ç™¼é€èˆ‡ç®¡ç†ææ¬¾è½‰æ›ä¹‹é»æ•¸ï¼Œä¾›æ‚¨æ–¼åˆä½œåº—å®¶å…Œæ›å¾…ç”¨é¤é»ç­‰å…¬ç›Šæœå‹™ã€‚
                        </label>
                    </div>
                </div>

                <!-- å€‹è³‡é‹ç”¨å‘ŠçŸ¥è²æ˜ -->
                <div class="verification_form_group" style="flex-direction: column;">
                    <label class="verification_form_label"></label>
                    <div class="verification_form_controls">
                        <label>
                            <input type="checkbox" id="agreeCheck" name="agreeCheck" onclick="return false">
                            æ‚¨å·²äº†è§£ä¸¦åŒæ„æœ¬å¹³å°è’é›†ã€è™•ç†åŠä½¿ç”¨æ‚¨çš„å€‹äººè³‡æ–™ã€‚è«‹é–±è®€
                            ã€Œ<a href="#" id="viewPrivacyNotice">å€‹è³‡é‹ç”¨å‘ŠçŸ¥è²æ˜</a>ã€
                        </label>
                        <input type="hidden" name="agreedToTerms" id="agreedToTerms" value="false">
                    </div>
                </div>

                <!-- <div id="errorMessage" class="text-danger" th:classappend="${errorMessage} ? '' : 'hidden'" th:text="${errorMessage}"></div> -->
                <div id="errorMessage" class="text-danger" th:if="${errorMessage}" th:text="${errorMessage}"></div>




                <div class="verification_button_container">
                    <button type="button" class="verification_back_btn"
                        th:onclick="|location.href='@{/registerAndLogin/register}'|">ä¸Šä¸€é </button>
                    <button type="submit" class="verification_next_btn">ä¸‹ä¸€æ­¥</button>
                </div>
            </form>
        </div>
    </div>
    <!-- æ„›å¿ƒé»æ•¸ç‡ˆç®± -->
    <div id="pointModal" class="modal" style="display:none">
        <div class="modal-content" style="">
            <h3>æ„›å¿ƒé»æ•¸ä½¿ç”¨èªªæ˜</h3>
            <p>(ä¸€)ä»€éº¼æ˜¯æ„›å¿ƒé»æ•¸ï¼Ÿ
                <br>æ„›å¿ƒé»æ•¸æ˜¯ç”±æ”å‘·éœ¸æ„›å¿ƒå¹³å°(ä»¥ä¸‹ç¨±æœ¬å¹³å°)æ ¹æ“šææ¬¾äººæ‰€æè´ˆä¹‹é‡‘é¡ï¼Œä¸€æ¯”ä¸€è½‰æ›å¾Œæ‰€ç™¼æ”¾çš„å…¬ç›Šé»æ•¸ã€‚é»æ•¸å°‡ç”±æœ¬å¹³å°æ ¸ç™¼è‡³å—åŠ©è€…çš„æœƒå“¡å¸³è™Ÿä¸­ï¼Œä¾›å…¶ä½¿ç”¨ã€‚
            </p>

            <p>(äºŒ)ç”¨é€”èˆ‡ä½¿ç”¨æ–¹å¼
                <br>æ„›å¿ƒé»æ•¸å¯ç”¨æ–¼å…Œæ›æœ¬å¹³å°åˆä½œåº—å®¶æ‰€æä¾›çš„å¾…ç”¨é¤é»ã€‚å—åŠ©è€…å¯æ–¼æŒ‡å®šåˆä½œåº—å®¶å‡ºç¤ºæœƒå“¡è³‡è¨Šï¼Œæˆ–æ˜¯é€éæœ¬å¹³å°é¸æ“‡å…Œæ›é …ç›®ã€‚
            </p>
            
            <p>(ä¸‰)é»æ•¸æœ‰æ•ˆæœŸé™
                <br>æ„›å¿ƒé»æ•¸è‡ªæ ¸ç™¼æ—¥èµ·è¨ˆç®—ï¼Œæœ‰æ•ˆæœŸé™ç‚º ã€6å€‹æœˆã€‘ï¼Œé€¾æœŸæœªä½¿ç”¨å°‡è‡ªå‹•å¤±æ•ˆï¼Œé»æ•¸å°‡å›æ”¶å¾Œé‡æ–°åˆ†é…äºˆå…¶ä»–æœ‰éœ€è¦çš„å°è±¡ã€‚
            </p>
            
            <p>(å››)æ³¨æ„äº‹é …
                <br> 1.æ„›å¿ƒé»æ•¸åƒ…é™å—åŠ©è€…æœ¬äººä½¿ç”¨ï¼Œä¸å¾—è½‰è®“ã€è½‰å”®ã€å…Œç¾æˆ–ä½œç‚ºä»»ä½•å•†æ¥­ç”¨é€”ã€‚
                <br>2.å¦‚ç™¼ç¾é‡è¤‡ç”³è«‹ã€å†’ç”¨èº«ä»½ã€éæ³•å…Œæ›æˆ–å…¶ä»–é•è¦æƒ…äº‹ï¼Œå¹³å°æœ‰æ¬Šå–æ¶ˆé»æ•¸èˆ‡å¸³è™Ÿè³‡æ ¼ã€‚
                <br>3.é»æ•¸å…Œæ›æœå‹™ä¹‹åˆä½œåº—å®¶ã€å…Œæ›æ–¹å¼èˆ‡ä½¿ç”¨è¦å‰‡ï¼Œå°‡ä¾å¹³å°å…¬å‘Šå…§å®¹ç‚ºæº–ï¼Œä¸¦å¾—éš¨æ™‚èª¿æ•´ã€‚
            </p>
            
            <p>(äº”)å…¶ä»–èªªæ˜
                <br>ç‚ºä¿éšœæ‰€æœ‰å—åŠ©è€…çš„æ¬Šç›Šï¼Œè«‹å‹™å¿…å¦¥å–„ä½¿ç”¨æ„›å¿ƒé»æ•¸ï¼Œä¸¦é…åˆå¹³å°ç›¸é—œè¦å®šï¼Œå…±åŒç¶­è­·è³‡æºçš„å…¬å¹³èˆ‡é€æ˜ã€‚
            </p>
            <!-- âœ… æ–°å¢å‹¾é¸ã€Œæˆ‘åŒæ„ã€ -->
<label style="display:block; margin-top: 20px;">
  <input type="checkbox" id="pointAgree"> æˆ‘å·²é–±è®€ä¸¦åŒæ„ä¸Šè¿°å…§å®¹
</label>

<!-- âœ… æ–°å¢ã€ŒåŒæ„ã€æŒ‰éˆ• -->
<div style="margin-top: 20px; text-align: center;">
    <button id="agreePointBtn" class="df-button df-button-next" style="width: 150px;">åŒæ„</button>
    <button id="closePoint" class="df-button df-button-next" style="width: 150px;">é—œé–‰</button>
</div>
            <div style="margin-top: 20px; text-align: center;">
                <button id="closePoint" class="df-button df-button-next" style="width: 150px;">é—œé–‰</button>

            </div>
        </div>
    </div>

    <!-- å€‹è³‡ç‡ˆç®± -->
    <div id="privacyModal" class="modal"
        style="display:none; position: fixed; top: 0; left: 0;
    width: 100%; height: 100%; background: rgba(0,0,0,0.5); justify-content: center; align-items: center; z-index: 1000;">
        <div class="modal-content"
            style="background: white; padding: 20px; border-radius: 8px; max-width: 600px; width: 90%; max-height: 90vh; overflow-y: auto;">
            <h3>å€‹è³‡é‹ç”¨å‘ŠçŸ¥è²æ˜</h3>

            <p>æ„Ÿè¬æ‚¨ä½¿ç”¨æ”å‘·éœ¸æ„›å¿ƒå¹³å°(ä»¥ä¸‹ç¨±æœ¬å¹³å°)ï¼Œç‚ºäº†ä¿éšœæ‚¨çš„æ¬Šç›Šï¼Œè«‹æ‚¨è©³ç´°é–±è®€ä»¥ä¸‹èªªæ˜ï¼š</p>

            <p>ä¸€ã€è’é›†ã€è™•ç†åŠåˆ©ç”¨ä¹‹ç›®çš„ï¼š
                <br>æœ¬å¹³å°å°‡è’é›†æ‚¨çš„å€‹äººè³‡æ–™ï¼Œä¸»è¦ç”¨é€”åŒ…æ‹¬ï¼š
                <br>â—† è¾¦ç†å—åŠ©è€…èº«ä»½é©—è­‰èˆ‡è³‡æ ¼å¯©æ ¸
                <br>â—† ç™¼é€é€šçŸ¥ã€è¯ç¹«ç›¸é—œäº‹å®œ
                <br>â—† æä¾›é¤é»å…Œæ›ã€ç‰©è³‡é…é€ã€å…¶ä»–å…¬ç›Šæœå‹™
                <br>â—† ä½œç‚ºæ”¿åºœæ©Ÿé—œæˆ–ä¸»ç®¡æ©Ÿé—œä¾æ³•è¦æ±‚æä¾›è³‡è¨Šä¹‹ä¾æ“š
            </p>

            <p>äºŒã€è’é›†ã€è™•ç†åŠåˆ©ç”¨ä¹‹å€‹äººè³‡æ–™é¡åˆ¥ï¼š
                <br>åŒ…å«ï¼šå§“åã€èº«åˆ†è­‰å­—è™Ÿï¼çµ±ä¸€ç·¨è™Ÿã€å‡ºç”Ÿæ—¥æœŸã€æ€§åˆ¥ã€é›»å­éƒµä»¶ã€è¯çµ¡é›»è©±ã€æˆ¶ç±åŠé€šè¨Šåœ°å€ã€å¼±å‹¢è­‰æ˜æˆ–å…¶ä»–ç›¸é—œä½è­‰æ–‡ä»¶å½±æœ¬ç­‰ã€‚
            </p>

            <p>ä¸‰ã€å€‹äººè³‡æ–™åˆ©ç”¨ä¹‹æœŸé–“ã€åœ°å€ã€å°è±¡åŠæ–¹å¼ï¼š
                <br>(ä¸€)æœŸé–“ï¼šæ–¼æœ¬å¹³å°æä¾›æœå‹™æœŸé–“åŠä¾æ³•å¾‹è¦æ±‚ä¹‹ä¿å­˜å¹´é™å…§ã€‚
                <br>(äºŒ)åœ°å€ï¼šæœ¬åœ‹åŠèˆ‡æœ¬å¹³å°æœ‰æ¥­å‹™å¾€ä¾†ä¹‹åœ‹å…§å¤–æ©Ÿæ§‹ç‡Ÿæ¥­è™•æ‰€æ‰€åœ¨åœ°ã€‚
                <br>(ä¸‰)å°è±¡ï¼šæœ¬å¹³å°å…§éƒ¨ç›¸é—œå–®ä½ã€åˆä½œåº—å®¶ã€é…åˆä¹‹å…¬ç›Šï¼ç¤¾ç¦åœ˜é«”åŠä¾æ³•å…·æœ‰èª¿æŸ¥æ¬Šé™ä¹‹æ©Ÿé—œã€‚
                <br>(å››)æ–¹å¼ï¼šä»¥è‡ªå‹•åŒ–ç³»çµ±æˆ–éè‡ªå‹•æ–¹å¼ä¾èª ä¿¡åŸå‰‡é€²è¡Œè’é›†ã€è™•ç†åŠåˆ©ç”¨ã€‚
            </p>

            <p>å››ã€è³‡æ–™ä½¿ç”¨å°è±¡èˆ‡ç¯„åœï¼š
                <br>æ‚¨æ‰€æä¾›ä¹‹å€‹äººè³‡æ–™åƒ…é™æ–¼æœ¬å¹³å°å…§éƒ¨ä½œæ¥­èˆ‡åˆä½œå…¬ç›Šæœå‹™ä¹‹å¿…è¦ç”¨é€”ï¼Œä¸æœƒå°å¤–æ­éœ²æˆ–æä¾›çµ¦éåˆä½œç¬¬ä¸‰æ–¹ï¼Œé™¤éä¾æ³•å¾‹è¦å®šæˆ–å¸æ³•æ©Ÿé—œæ­£å¼è¦æ±‚è¾¦ç†ã€‚
            </p>

            <p>äº”ã€ç•¶äº‹äººä¾æ³•äº«æœ‰ä¹‹æ¬Šåˆ©ï¼š
                <br>ä¾æ“šå€‹äººè³‡æ–™ä¿è­·æ³•ï¼Œæ‚¨æœ‰æ¬ŠæŸ¥è©¢ã€é–±è¦½ã€è¤‡è£½ã€è£œå……ã€æ›´æ­£ã€åˆªé™¤æ‚¨çš„å€‹äººè³‡æ–™ï¼Œæˆ–è¦æ±‚åœæ­¢è’é›†ã€è™•ç†æˆ–åˆ©ç”¨ã€‚å¦‚æ¬²è¡Œä½¿ä¸Šè¿°æ¬Šåˆ©ï¼Œè«‹èˆ‡æœ¬å¹³å°è¯ç¹«ã€‚
            </p>

            <p>å…­ã€æ‹’çµ•æä¾›å€‹äººè³‡æ–™ä¹‹å½±éŸ¿ï¼š
                <br>æ‚¨æœ‰æ¬Šé¸æ“‡æ˜¯å¦æä¾›è³‡æ–™ï¼ŒæƒŸè‹¥æœªæä¾›å¿…è¦ä¹‹è³‡è¨Šï¼Œå°‡å¯èƒ½å½±éŸ¿æ‚¨ç”³è«‹å—åŠ©è€…èº«ä»½ã€é»æ•¸ç™¼æ”¾èˆ‡å¾ŒçºŒæœå‹™æä¾›ä¹‹å®Œæ•´æ€§ã€‚
            </p>

            <p>ä¸ƒã€å€‹äººè³‡æ–™ä¹‹å®‰å…¨ç¶­è­·
                <br>æœ¬å¹³å°å°‡ä¾å…§éƒ¨è³‡è¨Šå®‰å…¨è¦ç¯„èˆ‡ç›¸é—œæ³•ä»¤ï¼Œæ¡å–é©ç•¶æŠ€è¡“èˆ‡ç®¡ç†æªæ–½ï¼Œå¦¥å–„ä¿å­˜ä¸¦ä¿éšœæ‚¨çš„å€‹äººè³‡æ–™å®‰å…¨ï¼Œé¿å…æœªç¶“æˆæ¬Šä¹‹å­˜å–ã€æ´©éœ²ã€è®Šæ›´æˆ–ææ¯€ã€‚
            </p>

            <label style="display:block; margin-top: 20px;">
  <input type="checkbox" id="privacyAgree"> æˆ‘å·²é–±è®€ä¸¦åŒæ„ä¸Šè¿°å…§å®¹
</label>

<div style="margin-top: 20px; text-align: center;">
  <button id="agreePrivacyBtn" class="df-button df-button-next" style="width: 150px;">åŒæ„</button>
  <button id="closePrivacy" class="df-button df-button-next" style="width: 150px;">é—œé–‰</button>
</div>

        </div>
    </div>

    <!-- Verification Form End -->

    <!-- Footer Start -->
    <th:block th:replace="fragments/footer :: footer"></th:block>
    <!-- Footer End -->

    <!-- Back to Top -->
    <a href="#" class="btn btn-lg btn-primary btn-lg-square back-to-top"><i class="fa fa-angle-double-up"></i></a>

    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
    <script src="lib/easing/easing.min.js"></script>
    <script src="lib/waypoints/waypoints.min.js"></script>
    <script src="lib/owlcarousel/owl.carousel.min.js"></script>
    <script src="lib/tempusdominus/js/moment.min.js"></script>
    <script src="lib/tempusdominus/js/moment-timezone.min.js"></script>
    <script src="lib/tempusdominus/js/tempusdominus-bootstrap-4.min.js"></script>

    <!-- Contact Javascript File -->
    <script src="mail/jqBootstrapValidation.min.js"></script>
    <script src="mail/contact.js"></script>

    <!-- Template Javascript -->
    <script src="js/main.js"></script>

    <!-- Form Script -->





    <script>
        document.addEventListener('DOMContentLoaded', function () {

        	
        	
        	
        	//====
        		        // æ„›å¿ƒé»æ•¸ç‡ˆç®±æ§åˆ¶
        const viewPointNotice = document.getElementById('viewPointNotice');
        const pointModal = document.getElementById('pointModal');
        const agreePoint = document.getElementById('agreePoint');
        const pointAgree = document.getElementById('pointAgree');
        const agreePointBtn = document.getElementById('agreePointBtn');
        const closePoint = document.getElementById('closePoint');

        viewPointNotice.addEventListener('click', function (e) {
            e.preventDefault();
            pointModal.style.display = 'flex';
            pointAgree.checked = agreePoint.checked;
        });

        agreePointBtn.addEventListener('click', function () {
            if (pointAgree.checked) {
                agreePoint.checked = true;
                pointModal.style.display = 'none';
            } else {
                alert('è«‹å‹¾é¸åŒæ„ä½¿ç”¨é ˆçŸ¥');
            }
        });

        closePoint.addEventListener('click', function () {
            pointModal.style.display = 'none';
            pointAgree.checked = false;
        });

        // å€‹è³‡ç‡ˆç®±æ§åˆ¶
        const viewPrivacyNotice = document.getElementById('viewPrivacyNotice');
        const privacyModal = document.getElementById('privacyModal');
        const privacyAgree = document.getElementById('privacyAgree');
        const agreePrivacyBtn = document.getElementById('agreePrivacyBtn');
        const closePrivacy = document.getElementById('closePrivacy');

        viewPrivacyNotice.addEventListener('click', function (e) {
            e.preventDefault();
            privacyModal.style.display = 'flex';
            privacyAgree.checked = document.getElementById('agreeCheck').checked;
        });

        // ğŸ‘‰ åŒæ„å¾Œï¼ŒæŠŠç‡ˆç®±çš„å‹¾é¸ç‹€æ…‹å›å‚³çµ¦ä¸»è¡¨å–® checkbox
        agreePrivacyBtn.addEventListener('click', function () {
            if (privacyAgree.checked) {
                document.getElementById('agreeCheck').checked = true;
                document.getElementById('agreedToTerms').value = 'true';
                privacyModal.style.display = 'none';
                if (errorMessage) errorMessage.classList.add("hidden");
            } else {
                alert('è«‹å‹¾é¸åŒæ„ä½¿ç”¨é ˆçŸ¥');
            }
        });

        closePrivacy.addEventListener('click', function () {
            privacyModal.style.display = 'none';
            privacyAgree.checked = false;
        });
        	//====
            //  é è¦½èˆ‡éŒ¯èª¤æ¸…é™¤
            const fileInput = document.querySelector('input[name="kycFile"]');
            const previewContainer = document.querySelector('.kyc-preview-container');
            const kycError = document.getElementById('kycError');

            if (fileInput && previewContainer) {
                fileInput.addEventListener('change', function () {
                    previewContainer.innerHTML = '';
                    const file = fileInput.files[0];
                    if (!file) return;

                    const fileURL = URL.createObjectURL(file);
                    const extension = file.name.split('.').pop().toLowerCase();

                    const link = document.createElement('a');
                    link.href = fileURL;
                    link.target = '_blank';
                    link.textContent = 'é»æ­¤é è¦½ä¸Šå‚³æª”æ¡ˆ';
                    previewContainer.appendChild(link);

                    if (['png', 'jpg', 'jpeg'].includes(extension)) {
                        const img = document.createElement('img');
                        img.src = fileURL;
                        img.alt = 'é è¦½åœ–';
                        img.style.maxWidth = '200px';
                        img.style.marginTop = '10px';
                        previewContainer.appendChild(img);
                    }

                    if (kycError) {
                        kycError.style.display = 'none';
                    }
                });
            }

            // é ˆçŸ¥
            const agreeCheck = document.getElementById('agreeCheck');
            const viewNotice = document.getElementById('viewNotice');
            const noticeModal = document.getElementById('noticeModal');
            const noticeAgree = document.getElementById('noticeAgree');
            const agreeNotice = document.getElementById('agreeNotice');
            const closeNotice = document.getElementById('closeNotice');
            const agreedToTerms = document.getElementById('agreedToTerms');
            const errorMessage = document.getElementById('errorMessage');

            if (viewNotice) {
                viewNotice.addEventListener('click', function (e) {
                    e.preventDefault();
                    noticeModal.style.display = 'flex';
                    noticeAgree.checked = agreeCheck.checked;
                });
            }

            if (agreeNotice) {
                agreeNotice.addEventListener('click', function () {
                    if (noticeAgree.checked) {
                        agreeCheck.checked = true;
                        agreedToTerms.value = 'true';
                        noticeModal.style.display = 'none';
                        if (errorMessage) errorMessage.classList.add("hidden");
                    } else {
                        alert('è«‹å‹¾é¸åŒæ„ä½¿ç”¨é ˆçŸ¥');
                    }
                });
            }

            if (closeNotice) {
                closeNotice.addEventListener('click', function () {
                    noticeModal.style.display = 'none';
                    noticeAgree.checked = false;
                });
            }

            // è¼¸å…¥æ¸…é™¤éŒ¯èª¤
            document.querySelectorAll('.verification_input').forEach(input => {
                input.addEventListener('input', function () {
                    const errorDiv = input.parentElement.querySelector('.text-danger');
                    if (errorDiv) {
                        errorDiv.style.display = 'none';
                    }
                });
            });

            //åœ¨å†Šå–®ä½ select åˆ‡æ›æ¸…é™¤éŒ¯èª¤
            const organizationSelect = document.getElementById("organizationSelect");
            if (organizationSelect) {
                organizationSelect.addEventListener("change", function () {
                    const errorDiv = organizationSelect.parentElement.querySelector('.text-danger');
                    if (errorDiv) errorDiv.style.display = 'none';
                });
            }
            const select = document.getElementById("organizationSelect");
            if (select && select.value === "-1") {
                document.getElementById("otherOrganizationInput").style.display = "block";
            }
        });

        function handleOrgChange(selectElement) {
            const selectedValue = selectElement.value;
            const hiddenField = document.getElementById("organizationIdField");
            const otherInput = document.getElementById("otherOrganizationInput");

            hiddenField.value = selectedValue;

            if (selectedValue === "-1") {
                otherInput.style.display = "block";
            } else {
                otherInput.style.display = "none";
            }
        }
        document.getElementById("organizationSelect").addEventListener("change", function () {
            const errorDiv = document.getElementById("orgErrorMessage");
            if (errorDiv) {
                errorDiv.style.display = "none";
            }
        });

        function setupAddressSelect(cityId, districtId, zipId) {
            const citySelect = document.getElementById(cityId);
            const districtSelect = document.getElementById(districtId);
            const zipInput = document.getElementById(zipId);

            // è¼‰å…¥ç¸£å¸‚
            addrData.forEach(item => {
                const option = document.createElement('option');
                option.value = item.city;
                option.textContent = item.city;
                citySelect.appendChild(option);
            });

            // è¼‰å…¥é è¨­å€¼
            const selectedCity = citySelect.value;
            const selectedDistrict = districtSelect.value;
            if (selectedCity) {
                const cityObj = addrData.find(item => item.city === selectedCity);
                if (cityObj) {
                    districtSelect.innerHTML = '<option value="">è«‹é¸æ“‡é„‰é®å¸‚å€</option>';
                    cityObj.area.forEach(area => {
                        const option = document.createElement('option');
                        option.value = area.name;
                        option.textContent = area.name;
                        if (area.name === selectedDistrict) option.selected = true;
                        districtSelect.appendChild(option);
                    });
                    const zipObj = cityObj.area.find(area => area.name === selectedDistrict);
                    if (zipObj) zipInput.value = zipObj.zipcode;
                }
            }

            // é¸ç¸£å¸‚æ™‚ â†’ è‡ªå‹•å¡«å…¥ç¬¬ä¸€å€ä¸¦å¸¶å…¥éƒµéå€è™Ÿ
            citySelect.addEventListener('change', () => {
                const selectedCity = citySelect.value;
                const cityObj = addrData.find(item => item.city === selectedCity);
                districtSelect.innerHTML = '<option value="">è«‹é¸æ“‡é„‰é®å¸‚å€</option>';
                zipInput.value = '';
                if (cityObj && cityObj.area.length > 0) {
                    cityObj.area.forEach((area, index) => {
                        const option = document.createElement('option');
                        option.value = area.name;
                        option.textContent = area.name;
                        if (index === 0) {
                            option.selected = true;
                            zipInput.value = area.zipcode;
                        }
                        districtSelect.appendChild(option);
                    });
                }
            });

            // é¸é„‰é®æ™‚ â†’ å¡«å…¥éƒµéå€è™Ÿ
            districtSelect.addEventListener('change', () => {
                const selectedCity = citySelect.value;
                const selectedDistrict = districtSelect.value;
                const cityObj = addrData.find(item => item.city === selectedCity);
                if (cityObj) {
                    const areaObj = cityObj.area.find(area => area.name === selectedDistrict);
                    zipInput.value = areaObj ? areaObj.zipcode : '';
                } else {
                    zipInput.value = '';
                }
            });
        }

        // å‘¼å«ï¼šDOM åŠ è¼‰å®Œå°±å•Ÿç”¨
        window.addEventListener('DOMContentLoaded', () => {
            setupAddressSelect("permCitySelect", "permDistrictSelect", "permZipcodeInput");
            setupAddressSelect("commCitySelect", "commDistrictSelect", "commZipcodeInput");
        });

        // ç¸£å¸‚ã€å€åŸŸã€éƒµéå€è™Ÿå°æ‡‰è³‡æ–™
        const addrData = [
            {
                "city": "è‡ºåŒ—å¸‚",
                "area": [
                    { "name": "ä¸­æ­£å€", "zipcode": "100" },
                    { "name": "å¤§åŒå€", "zipcode": "103" },
                    { "name": "ä¸­å±±å€", "zipcode": "104" },
                    { "name": "æ¾å±±å€", "zipcode": "105" },
                    { "name": "å¤§å®‰å€", "zipcode": "106" },
                    { "name": "è¬è¯å€", "zipcode": "108" },
                    { "name": "ä¿¡ç¾©å€", "zipcode": "110" },
                    { "name": "å£«æ—å€", "zipcode": "111" },
                    { "name": "åŒ—æŠ•å€", "zipcode": "112" },
                    { "name": "å…§æ¹–å€", "zipcode": "114" },
                    { "name": "å—æ¸¯å€", "zipcode": "115" },
                    { "name": "æ–‡å±±å€", "zipcode": "116" }
                ]
            },
            {
                "city": "åŸºéš†å¸‚",
                "area": [
                    { "name": "ä»æ„›å€", "zipcode": "200" },
                    { "name": "ä¿¡ç¾©å€", "zipcode": "201" },
                    { "name": "ä¸­æ­£å€", "zipcode": "202" },
                    { "name": "ä¸­å±±å€", "zipcode": "203" },
                    { "name": "å®‰æ¨‚å€", "zipcode": "204" },
                    { "name": "æš–æš–å€", "zipcode": "205" },
                    { "name": "ä¸ƒå µå€", "zipcode": "206" }
                ]
            },
            {
                "city": "æ–°åŒ—å¸‚",
                "area": [
                    { "name": "è¬é‡Œå€", "zipcode": "207" },
                    { "name": "é‡‘å±±å€", "zipcode": "208" },
                    { "name": "æ¿æ©‹å€", "zipcode": "220" },
                    { "name": "æ±æ­¢å€", "zipcode": "221" },
                    { "name": "æ·±å‘å€", "zipcode": "222" },
                    { "name": "çŸ³ç¢‡å€", "zipcode": "223" },
                    { "name": "ç‘èŠ³å€", "zipcode": "224" },
                    { "name": "å¹³æºªå€", "zipcode": "226" },
                    { "name": "é›™æºªå€", "zipcode": "227" },
                    { "name": "è²¢å¯®å€", "zipcode": "228" },
                    { "name": "æ–°åº—å€", "zipcode": "231" },
                    { "name": "åªæ—å€", "zipcode": "232" },
                    { "name": "çƒä¾†å€", "zipcode": "233" },
                    { "name": "æ°¸å’Œå€", "zipcode": "234" },
                    { "name": "ä¸­å’Œå€", "zipcode": "235" },
                    { "name": "åœŸåŸå€", "zipcode": "236" },
                    { "name": "ä¸‰å³½å€", "zipcode": "237" },
                    { "name": "æ¨¹æ—å€", "zipcode": "238" },
                    { "name": "é¶¯æ­Œå€", "zipcode": "239" },
                    { "name": "ä¸‰é‡å€", "zipcode": "241" },
                    { "name": "æ–°èŠå€", "zipcode": "242" },
                    { "name": "æ³°å±±å€", "zipcode": "243" },
                    { "name": "æ—å£å€", "zipcode": "244" },
                    { "name": "è˜†æ´²å€", "zipcode": "247" },
                    { "name": "äº”è‚¡å€", "zipcode": "248" },
                    { "name": "å…«é‡Œå€", "zipcode": "249" },
                    { "name": "æ·¡æ°´å€", "zipcode": "251" },
                    { "name": "ä¸‰èŠå€", "zipcode": "252" },
                    { "name": "çŸ³é–€å€", "zipcode": "253" }
                ]
            },
            {
                "city": "å®œè˜­ç¸£",
                "area": [
                    { "name": "å®œè˜­", "zipcode": "260" },
                    { "name": "é ­åŸ", "zipcode": "261" },
                    { "name": "ç¤æºª", "zipcode": "262" },
                    { "name": "å£¯åœ", "zipcode": "263" },
                    { "name": "å“¡å±±", "zipcode": "264" },
                    { "name": "ç¾…æ±", "zipcode": "265" },
                    { "name": "ä¸‰æ˜Ÿ", "zipcode": "266" },
                    { "name": "å¤§åŒ", "zipcode": "267" },
                    { "name": "äº”çµ", "zipcode": "268" },
                    { "name": "å†¬å±±", "zipcode": "269" },
                    { "name": "è˜‡æ¾³", "zipcode": "270" },
                    { "name": "å—æ¾³", "zipcode": "272" },
                    { "name": "é‡£é­šè‡ºåˆ—å¶¼", "zipcode": "290" }
                ]
            },
            {
                "city": "æ–°ç«¹å¸‚",
                "area": [
                    { "name": "", "zipcode": "300" }
                ]
            },
            {
                "city": "æ–°ç«¹ç¸£",
                "area": [
                    { "name": "ç«¹åŒ—", "zipcode": "302" },
                    { "name": "æ¹–å£", "zipcode": "303" },
                    { "name": "æ–°è±", "zipcode": "304" },
                    { "name": "æ–°åŸ”", "zipcode": "305" },
                    { "name": "é—œè¥¿", "zipcode": "306" },
                    { "name": "èŠæ—", "zipcode": "307" },
                    { "name": "å¯¶å±±", "zipcode": "308" },
                    { "name": "ç«¹æ±", "zipcode": "310" },
                    { "name": "äº”å³°", "zipcode": "311" },
                    { "name": "æ©«å±±", "zipcode": "312" },
                    { "name": "å°–çŸ³", "zipcode": "313" },
                    { "name": "åŒ—åŸ”", "zipcode": "314" },
                    { "name": "å³¨çœ‰", "zipcode": "315" }
                ]
            },
            {
                "city": "æ¡ƒåœ’å¸‚",
                "area": [
                    { "name": "ä¸­å£¢å€", "zipcode": "320" },
                    { "name": "å¹³é®å€", "zipcode": "324" },
                    { "name": "é¾æ½­å€", "zipcode": "325" },
                    { "name": "æ¥Šæ¢…å€", "zipcode": "326" },
                    { "name": "æ–°å±‹å€", "zipcode": "327" },
                    { "name": "è§€éŸ³å€", "zipcode": "328" },
                    { "name": "æ¡ƒåœ’å€", "zipcode": "330" },
                    { "name": "é¾œå±±å€", "zipcode": "333" },
                    { "name": "å…«å¾·å€", "zipcode": "334" },
                    { "name": "å¤§æºªå€", "zipcode": "335" },
                    { "name": "å¾©èˆˆå€", "zipcode": "336" },
                    { "name": "å¤§åœ’å€", "zipcode": "337" },
                    { "name": "è˜†ç«¹å€", "zipcode": "338" }
                ]
            },
            {
                "city": "è‹—æ —ç¸£",
                "area": [
                    { "name": "ç«¹å—", "zipcode": "350" },
                    { "name": "é ­ä»½", "zipcode": "351" },
                    { "name": "ä¸‰ç£", "zipcode": "352" },
                    { "name": "å—åº„", "zipcode": "353" },
                    { "name": "ç…æ½­", "zipcode": "354" },
                    { "name": "å¾Œé¾", "zipcode": "356" },
                    { "name": "é€šéœ„", "zipcode": "357" },
                    { "name": "è‹‘è£¡", "zipcode": "358" },
                    { "name": "è‹—æ —", "zipcode": "360" },
                    { "name": "é€ æ©‹", "zipcode": "361" },
                    { "name": "é ­å±‹", "zipcode": "362" },
                    { "name": "å…¬é¤¨", "zipcode": "363" },
                    { "name": "å¤§æ¹–", "zipcode": "364" },
                    { "name": "æ³°å®‰", "zipcode": "365" },
                    { "name": "éŠ…é‘¼", "zipcode": "366" },
                    { "name": "ä¸‰ç¾©", "zipcode": "367" },
                    { "name": "è¥¿æ¹–", "zipcode": "368" },
                    { "name": "å“è˜­", "zipcode": "369" }
                ]
            },
            {
                "city": "è‡ºä¸­å¸‚",
                "area": [
                    { "name": "ä¸­å€", "zipcode": "400" },
                    { "name": "æ±å€", "zipcode": "401" },
                    { "name": "å—å€", "zipcode": "402" },
                    { "name": "è¥¿å€", "zipcode": "403" },
                    { "name": "åŒ—å€", "zipcode": "404" },
                    { "name": "åŒ—å±¯å€", "zipcode": "406" },
                    { "name": "è¥¿å±¯å€", "zipcode": "407" },
                    { "name": "å—å±¯å€", "zipcode": "408" },
                    { "name": "å¤ªå¹³å€", "zipcode": "411" },
                    { "name": "å¤§é‡Œå€", "zipcode": "412" },
                    { "name": "éœ§å³°å€", "zipcode": "413" },
                    { "name": "çƒæ—¥å€", "zipcode": "414" },
                    { "name": "è±åŸå€", "zipcode": "420" },
                    { "name": "åé‡Œå€", "zipcode": "421" },
                    { "name": "çŸ³å²¡å€", "zipcode": "422" },
                    { "name": "æ±å‹¢å€", "zipcode": "423" },
                    { "name": "å’Œå¹³å€", "zipcode": "424" },
                    { "name": "æ–°ç¤¾å€", "zipcode": "426" },
                    { "name": "æ½­å­å€", "zipcode": "427" },
                    { "name": "å¤§é›…å€", "zipcode": "428" },
                    { "name": "ç¥å²¡å€", "zipcode": "429" },
                    { "name": "å¤§è‚šå€", "zipcode": "432" },
                    { "name": "æ²™é¹¿å€", "zipcode": "433" },
                    { "name": "é¾äº•å€", "zipcode": "434" },
                    { "name": "æ¢§æ£²å€", "zipcode": "435" },
                    { "name": "æ¸…æ°´å€", "zipcode": "436" },
                    { "name": "å¤§ç”²å€", "zipcode": "437" },
                    { "name": "å¤–åŸ”å€", "zipcode": "438" },
                    { "name": "å¤§å®‰å€", "zipcode": "439" }
                ]
            },
            {
                "city": "å½°åŒ–ç¸£",
                "area": [
                    { "name": "å½°åŒ–", "zipcode": "500" },
                    { "name": "èŠ¬åœ’", "zipcode": "502" },
                    { "name": "èŠ±å£‡", "zipcode": "503" },
                    { "name": "ç§€æ°´", "zipcode": "504" },
                    { "name": "é¹¿æ¸¯", "zipcode": "505" },
                    { "name": "ç¦èˆˆ", "zipcode": "506" },
                    { "name": "ç·šè¥¿", "zipcode": "507" },
                    { "name": "å’Œç¾", "zipcode": "508" },
                    { "name": "ä¼¸æ¸¯", "zipcode": "509" },
                    { "name": "å“¡æ—", "zipcode": "510" },
                    { "name": "ç¤¾é ­", "zipcode": "511" },
                    { "name": "æ°¸é–", "zipcode": "512" },
                    { "name": "åŸ”å¿ƒ", "zipcode": "513" },
                    { "name": "æºªæ¹–", "zipcode": "514" },
                    { "name": "å¤§æ‘", "zipcode": "515" },
                    { "name": "åŸ”é¹½", "zipcode": "516" },
                    { "name": "ç”°ä¸­", "zipcode": "520" },
                    { "name": "åŒ—æ–—", "zipcode": "521" },
                    { "name": "ç”°å°¾", "zipcode": "522" },
                    { "name": "åŸ¤é ­", "zipcode": "523" },
                    { "name": "æºªå·", "zipcode": "524" },
                    { "name": "ç«¹å¡˜", "zipcode": "525" },
                    { "name": "äºŒæ—", "zipcode": "526" },
                    { "name": "å¤§åŸ", "zipcode": "527" },
                    { "name": "èŠ³è‹‘", "zipcode": "528" },
                    { "name": "äºŒæ°´", "zipcode": "530" }
                ]
            },
            {
                "city": "å—æŠ•ç¸£",
                "area": [
                    { "name": "å—æŠ•", "zipcode": "540" },
                    { "name": "ä¸­å¯®", "zipcode": "541" },
                    { "name": "è‰å±¯", "zipcode": "542" },
                    { "name": "åœ‹å§“", "zipcode": "544" },
                    { "name": "åŸ”é‡Œ", "zipcode": "545" },
                    { "name": "ä»æ„›", "zipcode": "546" },
                    { "name": "åé–“", "zipcode": "551" },
                    { "name": "é›†é›†", "zipcode": "552" },
                    { "name": "æ°´é‡Œ", "zipcode": "553" },
                    { "name": "é­šæ± ", "zipcode": "555" },
                    { "name": "ä¿¡ç¾©", "zipcode": "556" },
                    { "name": "ç«¹å±±", "zipcode": "557" },
                    { "name": "é¹¿è°·", "zipcode": "558" }
                ]
            },
            {
                "city": "å˜‰ç¾©å¸‚",
                "area": [
                    { "name": "", "zipcode": "600" }
                ]
            },
            {
                "city": "å˜‰ç¾©ç¸£",
                "area": [
                    { "name": "ç•ªè·¯", "zipcode": "602" },
                    { "name": "æ¢…å±±", "zipcode": "603" },
                    { "name": "ç«¹å´", "zipcode": "604" },
                    { "name": "é˜¿é‡Œå±±", "zipcode": "605" },
                    { "name": "ä¸­åŸ”", "zipcode": "606" },
                    { "name": "å¤§åŸ”", "zipcode": "607" },
                    { "name": "æ°´ä¸Š", "zipcode": "608" },
                    { "name": "é¹¿è‰", "zipcode": "611" },
                    { "name": "å¤ªä¿", "zipcode": "612" },
                    { "name": "æœ´å­", "zipcode": "613" },
                    { "name": "æ±çŸ³", "zipcode": "614" },
                    { "name": "å…­è…³", "zipcode": "615" },
                    { "name": "æ–°æ¸¯", "zipcode": "616" },
                    { "name": "æ°‘é›„", "zipcode": "621" },
                    { "name": "å¤§æ—", "zipcode": "622" },
                    { "name": "æºªå£", "zipcode": "623" },
                    { "name": "ç¾©ç«¹", "zipcode": "624" },
                    { "name": "å¸ƒè¢‹", "zipcode": "625" }
                ]
            },
            {
                "city": "é›²æ—ç¸£",
                "area": [
                    { "name": "æ–—å—", "zipcode": "630" },
                    { "name": "å¤§åŸ¤", "zipcode": "631" },
                    { "name": "è™å°¾", "zipcode": "632" },
                    { "name": "åœŸåº«", "zipcode": "633" },
                    { "name": "è¤’å¿ ", "zipcode": "634" },
                    { "name": "æ±å‹¢", "zipcode": "635" },
                    { "name": "è‡ºè¥¿", "zipcode": "636" },
                    { "name": "å´™èƒŒ", "zipcode": "637" },
                    { "name": "éº¥å¯®", "zipcode": "638" },
                    { "name": "æ–—å…­", "zipcode": "640" },
                    { "name": "æ—å…§", "zipcode": "643" },
                    { "name": "å¤å‘", "zipcode": "646" },
                    { "name": "è¿æ¡", "zipcode": "647" },
                    { "name": "è¥¿èº", "zipcode": "648" },
                    { "name": "äºŒå´™", "zipcode": "649" },
                    { "name": "åŒ—æ¸¯", "zipcode": "651" },
                    { "name": "æ°´æ—", "zipcode": "652" },
                    { "name": "å£æ¹–", "zipcode": "653" },
                    { "name": "å››æ¹–", "zipcode": "654" },
                    { "name": "å…ƒé•·", "zipcode": "655" }
                ]
            },
            {
                "city": "è‡ºå—å¸‚",
                "area": [
                    { "name": "ä¸­è¥¿å€", "zipcode": "700" },
                    { "name": "æ±å€", "zipcode": "701" },
                    { "name": "å—å€", "zipcode": "702" },
                    { "name": "åŒ—å€", "zipcode": "704" },
                    { "name": "å®‰å¹³å€", "zipcode": "708" },
                    { "name": "å®‰å—å€", "zipcode": "709" },
                    { "name": "æ°¸åº·å€", "zipcode": "710" },
                    { "name": "æ­¸ä»å€", "zipcode": "711" },
                    { "name": "æ–°åŒ–å€", "zipcode": "712" },
                    { "name": "å·¦é®å€", "zipcode": "713" },
                    { "name": "ç‰äº•å€", "zipcode": "714" },
                    { "name": "æ¥ è¥¿å€", "zipcode": "715" },
                    { "name": "å—åŒ–å€", "zipcode": "716" },
                    { "name": "ä»å¾·å€", "zipcode": "717" },
                    { "name": "é—œå»Ÿå€", "zipcode": "718" },
                    { "name": "é¾å´å€", "zipcode": "719" },
                    { "name": "å®˜ç”°å€", "zipcode": "720" },
                    { "name": "éº»è±†å€", "zipcode": "721" },
                    { "name": "ä½³é‡Œå€", "zipcode": "722" },
                    { "name": "è¥¿æ¸¯å€", "zipcode": "723" },
                    { "name": "ä¸ƒè‚¡å€", "zipcode": "724" },
                    { "name": "å°‡è»å€", "zipcode": "725" },
                    { "name": "å­¸ç”²å€", "zipcode": "726" },
                    { "name": "åŒ—é–€å€", "zipcode": "727" },
                    { "name": "æ–°ç‡Ÿå€", "zipcode": "730" },
                    { "name": "å¾Œå£å€", "zipcode": "731" },
                    { "name": "ç™½æ²³å€", "zipcode": "732" },
                    { "name": "æ±å±±å€", "zipcode": "733" },
                    { "name": "å…­ç”²å€", "zipcode": "734" },
                    { "name": "ä¸‹ç‡Ÿå€", "zipcode": "735" },
                    { "name": "æŸ³ç‡Ÿå€", "zipcode": "736" },
                    { "name": "é¹½æ°´å€", "zipcode": "737" },
                    { "name": "å–„åŒ–å€", "zipcode": "741" },
                    { "name": "å¤§å…§å€", "zipcode": "742" },
                    { "name": "å±±ä¸Šå€", "zipcode": "743" },
                    { "name": "æ–°å¸‚å€", "zipcode": "744" },
                    { "name": "å®‰å®šå€", "zipcode": "745" }
                ]
            },
            {
                "city": "é«˜é›„å¸‚",
                "area": [
                    { "name": "æ–°èˆˆå€", "zipcode": "800" },
                    { "name": "å‰é‡‘å€", "zipcode": "801" },
                    { "name": "è‹“é›…å€", "zipcode": "802" },
                    { "name": "é¹½åŸ•å€", "zipcode": "803" },
                    { "name": "é¼“å±±å€", "zipcode": "804" },
                    { "name": "æ——æ´¥å€", "zipcode": "805" },
                    { "name": "å‰é®å€", "zipcode": "806" },
                    { "name": "ä¸‰æ°‘å€", "zipcode": "807" },
                    { "name": "æ¥ æ¢“å€", "zipcode": "811" },
                    { "name": "å°æ¸¯å€", "zipcode": "812" },
                    { "name": "å·¦ç‡Ÿå€", "zipcode": "813" },
                    { "name": "ä»æ­¦å€", "zipcode": "814" },
                    { "name": "å¤§ç¤¾å€", "zipcode": "815" },
                    { "name": "å²¡å±±å€", "zipcode": "820" },
                    { "name": "è·¯ç«¹å€", "zipcode": "821" },
                    { "name": "é˜¿è“®å€", "zipcode": "822" },
                    { "name": "ç”°å¯®å€", "zipcode": "823" },
                    { "name": "ç‡•å·¢å€", "zipcode": "824" },
                    { "name": "æ©‹é ­å€", "zipcode": "825" },
                    { "name": "æ¢“å®˜å€", "zipcode": "826" },
                    { "name": "å½Œé™€å€", "zipcode": "827" },
                    { "name": "æ°¸å®‰å€", "zipcode": "828" },
                    { "name": "æ¹–å…§å€", "zipcode": "829" },
                    { "name": "é³³å±±å€", "zipcode": "830" },
                    { "name": "å¤§å¯®å€", "zipcode": "831" },
                    { "name": "æ—åœ’å€", "zipcode": "832" },
                    { "name": "é³¥æ¾å€", "zipcode": "833" },
                    { "name": "å¤§æ¨¹å€", "zipcode": "840" },
                    { "name": "æ——å±±å€", "zipcode": "842" },
                    { "name": "ç¾æ¿ƒå€", "zipcode": "843" },
                    { "name": "å…­é¾œå€", "zipcode": "844" },
                    { "name": "å…§é–€å€", "zipcode": "845" },
                    { "name": "æ‰æ—å€", "zipcode": "846" },
                    { "name": "ç”²ä»™å€", "zipcode": "847" },
                    { "name": "æ¡ƒæºå€", "zipcode": "848" },
                    { "name": "é‚£ç‘ªå¤å€", "zipcode": "849" },
                    { "name": "èŒ‚æ—å€", "zipcode": "851" },
                    { "name": "èŒ„è£å€", "zipcode": "852" }
                ]
            },
            {
                "city": "å—æµ·è«¸å³¶",
                "area": [
                    { "name": "æ±æ²™", "zipcode": "817" },
                    { "name": "å—æ²™", "zipcode": "819" }
                ]
            },
            {
                "city": "æ¾æ¹–ç¸£",
                "area": [
                    { "name": "é¦¬å…¬", "zipcode": "880" },
                    { "name": "è¥¿å¶¼", "zipcode": "881" },
                    { "name": "æœ›å®‰", "zipcode": "882" },
                    { "name": "ä¸ƒç¾", "zipcode": "883" },
                    { "name": "ç™½æ²™", "zipcode": "884" },
                    { "name": "æ¹–è¥¿", "zipcode": "885" }
                ]
            },
            {
                "city": "å±æ±ç¸£",
                "area": [
                    { "name": "å±æ±", "zipcode": "900" },
                    { "name": "ä¸‰åœ°é–€", "zipcode": "901" },
                    { "name": "éœ§è‡º", "zipcode": "902" },
                    { "name": "ç‘ªå®¶", "zipcode": "903" },
                    { "name": "ä¹å¦‚", "zipcode": "904" },
                    { "name": "é‡Œæ¸¯", "zipcode": "905" },
                    { "name": "é«˜æ¨¹", "zipcode": "906" },
                    { "name": "é¹½åŸ”", "zipcode": "907" },
                    { "name": "é•·æ²»", "zipcode": "908" },
                    { "name": "éºŸæ´›", "zipcode": "909" },
                    { "name": "ç«¹ç”°", "zipcode": "911" },
                    { "name": "å…§åŸ”", "zipcode": "912" },
                    { "name": "è¬ä¸¹", "zipcode": "913" },
                    { "name": "æ½®å·", "zipcode": "920" },
                    { "name": "æ³°æ­¦", "zipcode": "921" },
                    { "name": "ä¾†ç¾©", "zipcode": "922" },
                    { "name": "è¬å·’", "zipcode": "923" },
                    { "name": "å´é ‚", "zipcode": "924" },
                    { "name": "æ–°åŸ¤", "zipcode": "925" },
                    { "name": "å—å·", "zipcode": "926" },
                    { "name": "æ—é‚Š", "zipcode": "927" },
                    { "name": "æ±æ¸¯", "zipcode": "928" },
                    { "name": "ç‰çƒ", "zipcode": "929" },
                    { "name": "ä½³å†¬", "zipcode": "931" },
                    { "name": "æ–°åœ’", "zipcode": "932" },
                    { "name": "æ‹å¯®", "zipcode": "940" },
                    { "name": "æ‹å±±", "zipcode": "941" },
                    { "name": "æ˜¥æ—¥", "zipcode": "942" },
                    { "name": "ç…å­", "zipcode": "943" },
                    { "name": "è»ŠåŸ", "zipcode": "944" },
                    { "name": "ç‰¡ä¸¹", "zipcode": "945" },
                    { "name": "æ†æ˜¥", "zipcode": "946" },
                    { "name": "æ»¿å·", "zipcode": "947" }
                ]
            },
            {
                "city": "è‡ºæ±ç¸£",
                "area": [
                    { "name": "è‡ºæ±", "zipcode": "950" },
                    { "name": "ç¶ å³¶", "zipcode": "951" },
                    { "name": "è˜­å¶¼", "zipcode": "952" },
                    { "name": "å»¶å¹³", "zipcode": "953" },
                    { "name": "å‘å—", "zipcode": "954" },
                    { "name": "é¹¿é‡", "zipcode": "955" },
                    { "name": "é—œå±±", "zipcode": "956" },
                    { "name": "æµ·ç«¯", "zipcode": "957" },
                    { "name": "æ± ä¸Š", "zipcode": "958" },
                    { "name": "æ±æ²³", "zipcode": "959" },
                    { "name": "æˆåŠŸ", "zipcode": "961" },
                    { "name": "é•·æ¿±", "zipcode": "962" },
                    { "name": "å¤ªéº»é‡Œ", "zipcode": "963" },
                    { "name": "é‡‘å³°", "zipcode": "964" },
                    { "name": "å¤§æ­¦", "zipcode": "965" },
                    { "name": "é”ä»", "zipcode": "966" }
                ]
            },
            {
                "city": "èŠ±è“®ç¸£",
                "area": [
                    { "name": "èŠ±è“®", "zipcode": "970" },
                    { "name": "æ–°åŸ", "zipcode": "971" },
                    { "name": "ç§€æ—", "zipcode": "972" },
                    { "name": "å‰å®‰", "zipcode": "973" },
                    { "name": "å£½è±", "zipcode": "974" },
                    { "name": "é³³æ—", "zipcode": "975" },
                    { "name": "å…‰å¾©", "zipcode": "976" },
                    { "name": "è±æ¿±", "zipcode": "977" },
                    { "name": "ç‘ç©—", "zipcode": "978" },
                    { "name": "è¬æ¦®", "zipcode": "979" },
                    { "name": "ç‰é‡Œ", "zipcode": "981" },
                    { "name": "å“æºª", "zipcode": "982" },
                    { "name": "å¯Œé‡Œ", "zipcode": "983" }
                ]
            },
            {
                "city": "é‡‘é–€ç¸£",
                "area": [
                    { "name": "é‡‘æ²™", "zipcode": "890" },
                    { "name": "é‡‘æ¹–", "zipcode": "891" },
                    { "name": "é‡‘å¯§", "zipcode": "892" },
                    { "name": "é‡‘åŸ", "zipcode": "893" },
                    { "name": "çƒˆå¶¼", "zipcode": "894" },
                    { "name": "çƒåµ", "zipcode": "896" }
                ]
            },
            {
                "city": "é€£æ±Ÿç¸£",
                "area": [
                    { "name": "å—ç«¿", "zipcode": "209" },
                    { "name": "åŒ—ç«¿", "zipcode": "210" },
                    { "name": "è’å…‰", "zipcode": "211" },
                    { "name": "æ±å¼•", "zipcode": "212" }
                ]
            }
        ];

        const citySelect = document.getElementById('citySelect');
        const districtSelect = document.getElementById('districtSelect');
        const zipInput = document.getElementById('zipcodeInput');



        document.getElementById('sameAsPerm').addEventListener('change', function () {
            const isChecked = this.checked;

            // æˆ¶ç±æ¬„ä½
            const permCity = document.getElementById('permCitySelect').value;
            const permDistrict = document.getElementById('permDistrictSelect').value;
            const permZipcode = document.getElementById('permZipcodeInput').value;
            const permDetail = document.getElementById('permDetail').value;

            // é€šè¨Šæ¬„ä½
            const commCitySelect = document.getElementById('commCitySelect');
            const commDistrictSelect = document.getElementById('commDistrictSelect');
            const commZipcodeInput = document.getElementById('commZipcodeInput');
            const commDetailInput = document.getElementById('commDetail');

            if (isChecked) {
                // å¥—ç”¨æˆ¶ç±åœ°å€å€¼
                commCitySelect.value = permCity;
                commCitySelect.dispatchEvent(new Event('change')); // è§¸ç™¼ç¸£å¸‚æ”¹è®Šäº‹ä»¶
                setTimeout(() => {
                    commDistrictSelect.value = permDistrict;
                    commDistrictSelect.dispatchEvent(new Event('change'));
                }, 100); // ç­‰å¾…é„‰é®æ›´æ–°å®Œæ‰é¸æ“‡

                commZipcodeInput.value = permZipcode;
                commDetailInput.value = permDetail;

                // é–å®šæ¬„ä½
                commCitySelect.disabled = true;
                commDistrictSelect.disabled = true;
                commZipcodeInput.disabled = true;
                commDetailInput.readOnly = true;
            } else {
                // æ¸…é™¤ä¸¦è§£é–
                commCitySelect.disabled = false;
                commDistrictSelect.disabled = false;
                commZipcodeInput.disabled = false;
                commDetailInput.readOnly = false;
            }
        });


    </script>




</body>

</html>